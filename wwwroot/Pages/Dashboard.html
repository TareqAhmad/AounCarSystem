<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
   
    <!-- Font google-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&display=swap" rel="stylesheet">

    <!-- Link to local Bootstrap CSS -->
    <link rel="stylesheet" href="/Assets/CSS/bootstrap.min.css">

    <!-- Main Styles -->
    <link rel="stylesheet" href="/Assets/CSS/main.css">

    <!-- Responsive Style-->
    <link rel="stylesheet" href="/Assets/CSS/responsive.css" />
</head>
<body>

    <!-- Header with Top Navigation -->
    <header class="header d-flex justify-content-between align-items-center">
        <div class="logo fs-4">🌐 Aoun_CarSystem</div>
        <nav class="none nav" id="nav-bar">
            <a href="/Pages/Dashboard.html" class="fw-bold fs-4 bg-warning text-black p-1">dashboard </a>
            <div class="dropdown">
                <a href="#">Cars ▾</a>
                <div class="dropdown-content">
                    <a href="/Pages/Cars.html">Cars</a>
                    <a href="/Pages/CarMovements.html">Car Movements</a>
                    <a href="/Pages/CarAttachments.html">Car Attachments</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="#">Person ▾</a>
                <div class="dropdown-content">
                    <a href="/Pages/Users.html">Users</a>
                    <a href="/Pages/Customers.html">Customers</a>
                    <a href="/Pages/Suppliers.html">Suppliers</a>
                </div>
            </div>
            <a href="/Pages/Sales.html">Sales</a>
            <div class="dropdown">
                <a href="#">Payments ▾</a>
                <div class="dropdown-content">
                    <a href="/Pages/Expenses.html">Expenses</a>
                    <a href="/Pages/Costs.html">Costs</a>
                </div>
            </div>
            <a href="/Pages/Store.html">store</a>
            <a href="#">Reports</a>
            <a href="../index.html">Logout</a>
        </nav>
        <div class="menu-toggle none" id="toggle" onclick="toggleMenu()">☰</div>
    </header>

    <div class="container mt-5" style="padding-bottom : 8rem">
        <h2 class="mb-4 text-center">🚗 Car System Dashboard</h2>

        <!--  First row -->
        <div class="row g-4">
            <div class="col-md-3">
                <div class="card text-white bg-success shadow">
                    <div class="card-body">
                        <h4 class="card-title fw-bold">Available Cars</h4>
                        <h3 id="availableCars">0</h3>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card text-white bg-primary shadow">
                    <div class="card-body">
                        <h4 class="card-title fw-bold">Count Users</h4>
                        <h3 id="CountUsers">0</h3>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card text-white bg-danger shadow">
                    <div class="card-body">
                        <h4 class="card-title fw-bold">Total Expenses</h4>
                        <h3 id="totalExpenses">0</h3>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card text-white bg-warning  shadow">
                    <div class="card-body">
                        <h4 class="card-title fw-bold">Total Cost</h4>
                        <h3 id="totalCost">0</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Second row -->
        <div class="row g-4 mt-3">
            <div class="col-md-3">
                <div class="card text-white bg-dark shadow">
                    <div class="card-body">
                        <h4 class="card-title fw-bold">Cars Sold</h4>
                        <h3 id="carsSold">0</h3>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card text-white bg-info shadow">
                    <div class="card-body">
                        <h4 class="card-title fw-bold">Cars In Maintenance</h4>
                        <h3 id="carsInMaintenance">0</h3>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card text-white bg-secondary shadow">
                    <div class="card-body">
                        <h4 class="card-title fw-bold">Total Sales</h4>
                        <button class="btn bg-transparent fs-5 fw-bold text-white btn-outline-light" id="totalSales" >0</button>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card text-white bg-success shadow">
                    <div class="card-body">
                        <h4 class="card-title fw-bold">Total Profit</h4>
                        <h3 id="totalProfit">0</h3>
                    </div>
                </div>
            </div>

        </div>

        <table class="table mt-5 table-bordered table-striped">
            <thead>
                <tr>
                    <th>Chassis Number</th>
                    <th>Car Name</th>
                    <th>Car Status</th>
                    <th>Sale Price</th>
                    <th>Costs</th>
                    <th>Profit</th>

                </tr>
            </thead>
            <tbody id="table-dashboard"></tbody>
            <tfoot class="table-light">
                <tr>
                    <td colspan="6" class="text-end">
                        <label for="recordCountSelect" class="me-2 fw-bold">Show:</label>
                        <select id="recordCountSelect" class="form-select d-inline-block w-auto fs-4">
                            <option value="5">5</option>
                            <option value="10">10</option>
                            <option value="15">15</option>
                            <option value="20">20</option>
                            <option value="All">All</option>
                        </select>
                        <span class="fw-bold ms-2">records</span>
                    </td>
                </tr>
            </tfoot>

        </table>

     


        <div class="modal fade" id="detailsSalesModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Details Sales</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h4 class="bg-secondary p-2 text-white fw-bold" id="sale-car-dashboard">Sales</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Invoice Id</th>
                                <th>Invioce Value</th>
                                <th>Invoice Date</th>
                                <th>Payment Type</th>
                                <th>Customer Name</th>
                            </tr>
                        </thead>
                        <tbody id="dash-detailsSales"></tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary btn-lg" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
          
        <div class="modal fade" id="detailsCostsModal" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Details Costs</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <h4 class="bg-warning p-2 text-black fw-bold" id="CostsCarName"></h4>
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Cost Id</th>
                                    <th>CostName</th>
                                    <th>CostValue</th>
                                </tr>
                            </thead>
                            <tbody id="dash-detailsCosts"></tbody>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary btn-lg" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Footer -->
    <footer class="footer">
        &copy; 2025 Tareq AL-Shbeikat 00962790205293. All rights reserved.
    </footer>


    <!-- Link to local Bootstrap JS -->
    <script src="/Assets/JS/bootstrap.bundle.min.js"></script>

    <!-- Link to jquery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <!--Main JS -->
    <script src="/Assets/JS/main.js"></script>

    <script>
        $(document).ready(function () {
            Call_FunctionsDashboard();
        });



        function Call_FunctionsDashboard() {

            Get_AvailabeCars();

            Get_CountUsers();

            Get_TotalSales();

            /* Get_TotalExpenses();*/

            Get_TotalCosts();

            Get_SoldCars();

            Get_InMaintenanceCars();

        }
    </script>


</body>
</html>
